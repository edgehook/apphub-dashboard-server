import{d as S,bx as l,ba as a,o as T,c as k,w as u,f as p,bs as B,bA as v,b6 as h,b7 as b,b8 as N,e as x,dq as R,dr as A,bK as I}from"./.pnpm-ce7dda7b.js";import{i as K,$,s as j,_ as M}from"./index-b6608134.js";import{u as P,b as C}from"./chartEditStore-0a96ea37.js";import{g as V,b as z}from"./screenApi-6aa52476.js";import"./plugin-744af617.js";import"./icon-7d63310d.js";import"./settingStore-07be61e1.js";const D={class:"title"},J=S({__name:"index",setup(O){const{t:g}=K.global,d=P(),c=l(!1),i=l(null);var e=l("");const r=$(),_=t=>{V(t).then(n=>{if(n.code==200){let o=n.data.name;e.value=o;const s=o.length?o:"新项目";j(`工作空间-${s}`),d.setEditCanvasConfig(C.PROJECT_NAME,s)}})};_(r);const y=()=>{c.value=!0,I(()=>{i.value&&i.value.focus()})},f=()=>{z(r,e.value).then(t=>{t.code==200&&(_(r),d.setEditCanvasConfig(C.PROJECT_NAME,e.value),window.$message.success(g("project.saveSuccess")))})};return(t,n)=>{const o=a("n-button"),s=a("n-text"),w=a("n-input"),E=a("n-space");return T(),k(E,null,{default:u(()=>[p(s,{onClick:y},{default:u(()=>[B(v(t.$t("project.workspace"))+" - ",1),h(p(o,{secondary:"",round:"",size:"tiny"},{default:u(()=>[N("span",D,v(x(e)),1)]),_:1},512),[[b,!c.value]])]),_:1}),h(p(w,{ref_key:"inputInstRef",ref:i,size:"small",type:"text",maxlength:"16","show-count":"",round:"",placeholder:t.$t("project.placeholder"),value:x(e),"onUpdate:value":n[0]||(n[0]=m=>R(e)?e.value=m:e=m),valueModifiers:{trim:!0},onKeyup:A(f,["enter"]),onBlur:f},null,8,["placeholder","value","onKeyup"]),[[b,c.value]])]),_:1})}}});const W=M(J,[["__scopeId","data-v-692a0c0f"]]);export{W as default};
