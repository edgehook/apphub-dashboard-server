import{d as R,_ as Qe,bg as Ve,bD as Ye,bx as m,bz as F,ba as r,o as h,q as S,b6 as N,b7 as j,e as o,f as s,b8 as O,w as i,bf as Je,du as We,ds as ie,bF as Xe,bC as ue,bB as pe,bs as me,bA as de,bL as B,bb as Ze,bc as et,c as ge,dq as tt,bH as at}from"./.pnpm-ce7dda7b.js";import{C as ot}from"./index-a6ee1110.js";import{u as lt}from"./settingStore-07be61e1.js";import{i as he,_ as U,u as st,a1 as E,d as L,a2 as P,a3 as nt,a4 as ct,Q as rt,__tla as it}from"./index-b6608134.js";import{l as ut,c as ve,__tla as pt}from"./index-18fcb4c8.js";import{b as ye,a as mt,f as dt,c as gt,d as ht,__tla as vt}from"./index-54633a7f.js";import{a as yt,b as bt,l as ft}from"./plugin-744af617.js";import{i as M}from"./icon-7d63310d.js";import{u as q,C as G,a as be}from"./chartLayoutStore-1c1c2b2b.js";import{u as _t}from"./chartEditStore-0a96ea37.js";let $,fe,Ot=Promise.all([(()=>{try{return it}catch{}})(),(()=>{try{return pt}catch{}})(),(()=>{try{return vt}catch{}})()]).then(async()=>{const _e={class:"go-chart-common"},Oe={class:"chart-content-list"},Ce=R({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(c){const p=c,{t:d}=he.global,g=ut(()=>Qe(()=>import("./index-6672371a.js"),["./index-6672371a.js","./index-250e25a0.js",".pnpm-ce7dda7b.js","../css/.pnpm-47b9fa26.css","./index-b6608134.js","../css/index-70ebd91b.css","./icon-7d63310d.js","../css/index-247c99bc.css","./chartEditStore-0a96ea37.js","./plugin-744af617.js","./settingStore-07be61e1.js","./chartLayoutStore-1c1c2b2b.js","./index-54633a7f.js","../css/index-055e0b32.css","./index-18fcb4c8.js","./index.vue_vue_type_script_setup_true_lang-b36c4261.js","../css/index-03de93cb.css","../css/index-f4c427ee.css","./index-a6ee1110.js","../css/index-d93eface.css","../css/index-8c2788b3.css"],import.meta.url)),v=ye(),k=lt(),y=Ve(()=>t.categorysNum>2?!0:!k.getHidePackageOneCategory);let t=Ye({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:d("project.all")},categorysNum:0,saveSelectOptions:{}});const b=m("all"),I=l=>{for(const a in l){t.selectOptions=l[a];break}};F(()=>p.selectOptions,l=>{if(t.categorysNum=0,!!l){l.list.forEach(a=>{const _=t.categorys[a.category];t.categorys[a.category]=_&&_.length?[..._,a]:[a],t.categoryNames[a.category]=a.categoryName,t.categorys.all.push(a)});for(const a in t.categorys)t.categorysNum+=1,t.menuOptions.push({key:a,label:t.categoryNames[a]});I(t.categorys),b.value=t.menuOptions[0].key}},{immediate:!0}),F(()=>v.newPhoto,l=>{if(!l)return;const a=l.category;l.package,t.categorys[a].splice(1,0,l),t.categorys.all.splice(1,0,l)});const f=(l,a)=>{t.categorys[l.category].splice(a,1),t.categorys.all.splice(a,1)},x=l=>{t.selectOptions=t.categorys[l]};return(l,a)=>{const _=r("n-menu"),D=r("n-scrollbar");return h(),S("div",_e,[N(s(_,{class:"chart-menu-width",value:b.value,"onUpdate:value":[a[0]||(a[0]=A=>b.value=A),x],options:o(t).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[j,o(y)]]),O("div",Oe,[s(D,{trigger:"none"},{default:i(()=>[s(o(g),{menuOptions:o(t).selectOptions,onDeletePhoto:f},null,8,["menuOptions"])]),_:1})])])}}}),ke=U(Ce,[["__scopeId","data-v-674b1d18"]]),Ie=st(),K=m(Ie.getAppTheme),{setItem:Q}=q(),{getCharts:H}=Je(q()),{ImageIcon:Se,BarChartIcon:we}=M.ionicons5,{TableSplitIcon:Te,RoadmapIcon:xe,SpellCheckIcon:Ae,GraphicalDataFlowIcon:Ne}=M.carbon,{getPackagesList:V}=ye(),C=[],Y={[E.CHARTS]:{icon:L(xe),label:P.CHARTS},[E.INFORMATIONS]:{icon:L(Ae),label:P.INFORMATIONS},[E.TABLES]:{icon:L(Te),label:P.TABLES},[E.DECORATES]:{icon:L(Ne),label:P.DECORATES},[E.PHOTOS]:{icon:L(Se),label:P.PHOTOS}};(()=>{for(const c in V)C.push({key:c,icon:Y[c].icon,label:Y[c].label,list:V[c]})})();let J=C[0].key,w,T,W,X,Z,ee,te,ae,oe,le;w=m(C[0].key),T=m(C[0]),W=(c,p)=>{T.value=p,J===c?Q(G.CHARTS,!H.value):Q(G.CHARTS,!0),J=c},X={class:"list-img",alt:"\u56FE\u8868\u56FE\u7247"},$=R({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(c){const p=c,d=m(""),g=async()=>{d.value=await mt(p.chartConfig)};return F(()=>p.chartConfig.key,()=>g(),{immediate:!0}),(v,k)=>{const y=We("lazy");return N((h(),S("img",X,null,512)),[[y,d.value]])}}}),Z=c=>(Ze("data-v-f6246bf3"),c=c(),et(),c),ee={class:"go-chart-search-box"},te={class:"search-list-box"},ae=["title","onClick"],oe=Z(()=>O("div",{class:"popover-modal"},null,-1)),le=R({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(c){const p=c;ie(e=>({"171fd3ca":o(K)}));const{t:d}=he.global,g=_t(),v=q(),{SearchIcon:k,AlbumsIcon:y,GridIcon:t}=M.ionicons5,b=m(!1),I=m(!1),f=m(void 0),x=m(null),l=m([]),a=m(v.getChartType),_=[{label:d("project.single"),icon:y,value:be.SINGLE},{label:d("project.double"),icon:t,value:be.DOUBLE}],D=(e=>{const n=[];for(const z of e)n.push(...z.list);return n})(p.menuOptions),A=()=>{f.value=void 0,I.value=!1,x.value=null,l.value=[]},Re=e=>{if(!rt(e)||!e.length){A();return}f.value=!0,I.value=!0,l.value=D.filter(n=>!e||n.title.toLowerCase().includes(e.toLowerCase())),setTimeout(()=>{f.value=void 0},500)},ne=e=>{I.value&&e.target&&(e.target.closest(".go-chart-search")||A())},je=async e=>{try{yt(),ve(e.chartKey,dt(e)),ve(e.conKey,gt(e));let n=await ht(e);e.redirectComponent&&(e.dataset&&(n.option.dataset=e.dataset),n.chartConfig.title=e.title,n.chartConfig.chartFrame=e.chartFrame),g.addComponentList(n,!1,!0),g.setTargetSelectChart(n.id),A(),bt()}catch(n){ft(),console.error(n),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}},ce=e=>{b.value=e},He=e=>{a.value=e,v.setItem(G.Chart_TYPE,e)};return nt(document,"click",e=>{ne(e)}),Xe(()=>{ct(document,"click",ne)}),(e,n)=>{const z=r("n-icon"),De=r("n-input"),Fe=r("n-input-group"),Be=r("n-empty"),Ue=r("n-text"),Me=r("n-scrollbar"),qe=r("n-popover"),Ge=r("n-tooltip"),$e=r("n-button"),Ke=r("n-button-group");return h(),S("div",ee,[O("div",{class:B(["chart-search go-transition",{"chart-search-focus":b.value}])},[s(qe,{class:"chart-search-popover","show-arrow":!1,show:I.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:i(()=>[s(Fe,null,{default:i(()=>[s(De,{size:"small",placeholder:e.$t("project.searchPlaceholder"),value:x.value,"onUpdate:value":[n[0]||(n[0]=u=>x.value=u),Re],valueModifiers:{trim:!0},loading:f.value,onFocus:n[1]||(n[1]=u=>ce(!0)),onBlur:n[2]||(n[2]=u=>ce(!1))},{suffix:i(()=>[N(s(z,{component:o(k)},null,8,["component"]),[[j,!f.value]])]),_:1},8,["placeholder","value","loading"])]),_:1})]),default:i(()=>[O("div",te,[s(Me,{style:{"max-height":"500px"}},{default:i(()=>[N(s(Be,{size:"small",description:"\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6~"},null,512),[[j,!l.value.length]]),(h(!0),S(ue,null,pe(l.value,u=>(h(),S("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:u.key,title:u.title,onClick:re=>je(u)},[s(o($),{class:"list-item-img",chartConfig:u},null,8,["chartConfig"]),s(Ue,{class:"list-item-fs",depth:"2"},{default:i(()=>[me(de(u.title),1)]),_:2},1024)],8,ae))),128))]),_:1}),oe])]),_:1},8,["show"])],2),s(Ke,{class:B(["btn-group go-transition",{"btn-group-focus":b.value}]),style:{display:"flex"}},{default:i(()=>[(h(),S(ue,null,pe(_,(u,re)=>s($e,{ghost:"",size:"small",key:re,type:a.value===u.value?"primary":"tertiary",onClick:kt=>He(u.value)},{default:i(()=>[s(Ge,{"show-arrow":!1,trigger:"hover"},{trigger:i(()=>[s(z,{size:"14",component:u.icon},null,8,["component"])]),default:i(()=>[me(" "+de(u.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});const Ee=U(le,[["__scopeId","data-v-f6246bf3"]]),Le={class:"menu-width-box"},Pe={class:"menu-component-box"},ze=R({__name:"index",setup(c){return ie(p=>({"2420dad6":o(K)})),(p,d)=>{const g=r("n-icon"),v=r("n-menu"),k=r("go-skeleton");return h(),ge(o(ot),{class:B(["go-content-charts",{scoped:!o(H)}]),title:p.$t("project.components"),depth:1,backIcon:!1},{icon:i(()=>[s(g,{size:"14",depth:2},{default:i(()=>[s(o(we))]),_:1})]),"top-right":i(()=>[N(s(o(Ee),{menuOptions:o(C)},null,8,["menuOptions"]),[[j,o(H)]])]),default:i(()=>[O("aside",null,[O("div",Le,[s(v,{class:"menu-width",value:o(w),"onUpdate:value":[d[0]||(d[0]=y=>tt(w)?w.value=y:null),o(W)],options:o(C),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),O("div",Pe,[s(k,{load:!o(T),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),o(T)?(h(),ge(o(ke),{selectOptions:o(T),key:o(w)},null,8,["selectOptions"])):at("",!0)])])])]),_:1},8,["class","title"])}}});let se;se=U(ze,[["__scopeId","data-v-1445a76a"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}))});export{$ as _,Ot as __tla,fe as i};
