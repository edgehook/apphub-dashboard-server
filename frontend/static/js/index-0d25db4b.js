import{dv as x,d as ft,bt as vt,bf as Et,_ as N,bx as Y,bg as gt,bz as Ct,ba as g,o as c,c as m,w as r,f as d,e as y,q as Z,bB as tt,b8 as et,bA as at,bv as O,bC as nt,bH as ot}from"./.pnpm-ce7dda7b.js";import{g as B,i as Tt,x as ht,t as yt,v as st,_ as At,__tla as It}from"./index-b6608134.js";import{l as L,__tla as bt}from"./index-18fcb4c8.js";import{i as Nt}from"./icon-7d63310d.js";import{C as Ot}from"./index-a6ee1110.js";import{u as V,C as w}from"./chartLayoutStore-1c1c2b2b.js";import{u as rt,a as Lt,C as U,P as wt,B as S,E as it,b as St}from"./chartEditStore-0a96ea37.js";import{f as Rt,c as Gt,d as Dt,__tla as kt}from"./index-54633a7f.js";import{g as Mt}from"./screenApi-6aa52476.js";let lt,F,Pt=Promise.all([(()=>{try{return It}catch{}})(),(()=>{try{return bt}catch{}})(),(()=>{try{return kt}catch{}})()]).then(async()=>{var C=(t=>(t.PAGE_SETTING="pageSetting",t.CHART_SETTING="chartSetting",t.CHART_ANIMATION="chartAnimation",t.CHART_DATA="chartData",t.CHART_EVENT="chartEvent",t))(C||{});let K,$,u,j;K=t=>t,$=(t,e)=>{try{if(e.id){const _="vnodeBeforeMount"in e.events,n="vnodeMounted"in e.events;return _&&(t.events.advancedEvents.vnodeBeforeMount=e?.events.vnodeBeforeMount),n&&(t.events.advancedEvents.vnodeMounted=e?.events.vnodeMounted),(_||n)&&(e.events={baseEvent:{[S.ON_CLICK]:void 0,[S.ON_DBL_CLICK]:void 0,[S.ON_MOUSE_ENTER]:void 0,[S.ON_MOUSE_LEAVE]:void 0},advancedEvents:{[it.VNODE_MOUNTED]:void 0,[it.VNODE_BEFORE_MOUNT]:void 0}}),t}}catch{return t}},u=(t,e,_=!1)=>{if($(t,e),_)return x(t,e);const n=e.option;if(!n)return x(t,e);if(e.option=void 0,n)return{...x(t,e),option:n}},F=()=>{const t=rt(),e=Lt(),_=V();return{updateComponent:async(n,R=!1,p=!1)=>{R&&(t.componentList=[],e.clearBackStack(),e.clearForwardStack()),n.editCanvasConfig=K(n.editCanvasConfig),n.componentList.forEach(async a=>{const l=o=>{window.$vue.component(o.chartConfig.chartKey)||(window.$vue.component(o.chartConfig.chartKey,Rt(o.chartConfig)),window.$vue.component(o.chartConfig.conKey,Gt(o.chartConfig)))};a.isGroup?a.groupList.forEach(o=>{l(o)}):l(a)});const T=async(a,l)=>{let o=await Dt(a.chartConfig);l?l(p?u(o,{...a,id:B()}):u(o,a)):p?t.addComponentList(u(o,{...a,id:B()}),!1,!0):t.addComponentList(u(o,a),!1,!0)};for(const a in n)if(a===U.COMPONENT_LIST){let l=0;const o=n[a].length;for(const f of n[a]){let G=parseInt((parseFloat(`${++l/o}`)*100).toString());if(_.setItemUnHandle(w.PERCENTAGE,G),f.isGroup){let v=new wt;p?v=u(v,{...f,id:B()}):v=u(v,f);const D=[];for(const k of f.groupList)await T(k,M=>{D.push(M)});v.groupList=D,t.addComponentList(v,!1,!0)}else await T(f)}}else(a===U.EDIT_CANVAS_CONFIG||a===U.REQUEST_GLOBAL_CONFIG)&&u(t[a],n[a],!0);_.setItemUnHandle(w.PERCENTAGE,0)}}},j=ft({__name:"index",setup(t){const{t:e}=Tt.global,_=vt(),{id:n}=_.params,R=typeof n=="string"?n:n[0],p=rt(),{updateComponent:T}=F();(async()=>{let s=ht(yt.GO_SCREEN_DATA)||[];s.length==0&&Mt(R).then(async h=>{if(h.code==200)try{let E=h.data.data,I=h.data.name;if(E){let b=st(E)[0];await T(b,!1,!0),p.setEditCanvasConfig(St.PROJECT_NAME,I)}else console.error("Get cahrt data error")}catch(E){console.error(E)}});let A=st(s)[0];await T(A,!1,!0)})();const{getDetails:a}=Et(V()),{setItem:l}=V(),{ConstructIcon:o,FlashIcon:f,DesktopOutlineIcon:G,LeafIcon:v,RocketIcon:D}=Nt.ionicons5,k=L(()=>N(()=>import("./index-0e3cc0af.js"),["./index-0e3cc0af.js","./index-b6608134.js",".pnpm-ce7dda7b.js","../css/.pnpm-47b9fa26.css","../css/index-70ebd91b.css","./index-18fcb4c8.js","./index.vue_vue_type_script_setup_true_lang-b36c4261.js","../css/index-03de93cb.css","./chartEditStore-0a96ea37.js","./plugin-744af617.js","./icon-7d63310d.js","./settingStore-07be61e1.js","../css/index-f4c427ee.css","./index-54633a7f.js","../css/index-055e0b32.css","./index-a6ee1110.js","../css/index-d93eface.css","./chartLayoutStore-1c1c2b2b.js","./file-6db2fad1.js","./screenApi-6aa52476.js","../css/index-b74483e9.css"],import.meta.url)),M=L(()=>N(()=>import("./index-4762b587.js").then(async s=>(await s.__tla,s)),["./index-4762b587.js",".pnpm-ce7dda7b.js","../css/.pnpm-47b9fa26.css","./index-b6608134.js","../css/index-70ebd91b.css","./chartEditStore-0a96ea37.js","./plugin-744af617.js","./icon-7d63310d.js","./settingStore-07be61e1.js","./index-18fcb4c8.js","./index.vue_vue_type_script_setup_true_lang-b36c4261.js","../css/index-03de93cb.css","../css/index-f4c427ee.css","../css/index-e15e5d49.css"],import.meta.url)),ct=L(()=>N(()=>import("./index-b2478ace.js"),["./index-b2478ace.js","./index-54633a7f.js",".pnpm-ce7dda7b.js","../css/.pnpm-47b9fa26.css","./index-b6608134.js","../css/index-70ebd91b.css","./chartEditStore-0a96ea37.js","./plugin-744af617.js","./icon-7d63310d.js","./settingStore-07be61e1.js","../css/index-055e0b32.css","./useTargetData.hook-ac6d967b.js","../css/index-d43490a2.css"],import.meta.url)),_t=L(()=>N(()=>import("./index-ce999aec.js").then(async s=>(await s.__tla,s)).then(s=>s.i),["./index-ce999aec.js",".pnpm-ce7dda7b.js","../css/.pnpm-47b9fa26.css","./index-b6608134.js","../css/index-70ebd91b.css","./index-18fcb4c8.js","./index.vue_vue_type_script_setup_true_lang-b36c4261.js","../css/index-03de93cb.css","./chartEditStore-0a96ea37.js","./plugin-744af617.js","./icon-7d63310d.js","./settingStore-07be61e1.js","../css/index-f4c427ee.css","./index-54633a7f.js","../css/index-055e0b32.css","./useTargetData.hook-ac6d967b.js"],import.meta.url)),P=Y(a.value),z=Y(C.CHART_SETTING),J=()=>{P.value=!0,l(w.DETAILS,!0)},Q=()=>{P.value=!1,l(w.DETAILS,!1)},H=gt(()=>{if(p.getTargetChart.selectId.length!==1)return;const s=p.componentList[p.fetchTargetIndex()];return s?.isGroup&&(z.value=C.CHART_SETTING),s});Ct(a,s=>{s?J():Q()});const dt=[{key:C.PAGE_SETTING,title:e("setting.pageSetting"),icon:G,render:M}],W=[{key:C.CHART_SETTING,title:e("setting.chartSetting"),icon:o,render:ct}],ut=[...W,{key:C.CHART_DATA,title:e("setting.chartData"),icon:f,render:_t}];return(s,A)=>{const h=g("n-layout-content"),E=g("n-icon"),I=g("n-space"),b=g("n-tab-pane"),X=g("n-tabs"),pt=g("n-layout-sider"),mt=g("n-layout");return c(),m(mt,{"has-sider":"","sider-placement":"right"},{default:r(()=>[d(h,null,{default:r(()=>[d(y(k))]),_:1}),d(pt,{"collapse-mode":"transform","collapsed-width":0,width:350,collapsed:P.value,"native-scrollbar":!1,"show-trigger":"bar",onCollapse:J,onExpand:Q},{default:r(()=>[d(y(Ot),{class:"go-content-configurations go-boderbox","show-top":!1,depth:2},{default:r(()=>[y(H)?ot("",!0):(c(),m(X,{key:0,class:"tabs-box",size:"small",type:"segment"},{default:r(()=>[(c(),Z(nt,null,tt(dt,i=>d(b,{key:i.key,name:i.key,size:"small","display-directive":"show:lazy"},{tab:r(()=>[d(I,null,{default:r(()=>[et("span",null,at(i.title),1),d(E,{size:"16",class:"icon-position"},{default:r(()=>[(c(),m(O(i.icon)))]),_:2},1024)]),_:2},1024)]),default:r(()=>[(c(),m(O(i.render)))]),_:2},1032,["name"])),64))]),_:1})),y(H)?(c(),m(X,{key:1,value:z.value,"onUpdate:value":A[0]||(A[0]=i=>z.value=i),class:"tabs-box",size:"small",type:"segment"},{default:r(()=>[(c(!0),Z(nt,null,tt(y(H).isGroup?W:ut,i=>(c(),m(b,{key:i.key,name:i.key,size:"small","display-directive":"show:lazy"},{tab:r(()=>[d(I,null,{default:r(()=>[et("span",null,at(i.title),1),d(E,{size:"16",class:"icon-position"},{default:r(()=>[(c(),m(O(i.icon)))]),_:2},1024)]),_:2},1024)]),default:r(()=>[(c(),m(O(i.render)))]),_:2},1032,["name"]))),128))]),_:1},8,["value"])):ot("",!0)]),_:1})]),_:1},8,["collapsed"])]),_:1})}}});let q;q=At(j,[["__scopeId","data-v-61e734f6"]]),lt=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}))});export{Pt as __tla,lt as i,F as u};
