import{w as g,t as n,x as C,v as d}from"./index-b6608134.js";import"./.pnpm-ce7dda7b.js";import{u as m}from"./chartEditStore-0a96ea37.js";import{g as h}from"./screenApi-6aa52476.js";const p=g(n.GO_APPHUB_TOKEN)||g(n.GO_EI_TOKEN)||g(n.GO_APPHUB_EDGE_TOKEN),o=m(),O=async()=>{const s=document.location.hash.split("/"),f=s&&s[s.length-1],e=C(n.GO_CHART_STORAGE_LIST);let i={};if(p)if(e){for(let t=0;t<e.length;t++)if(f.toString()===e[t].id){const{editCanvasConfig:a,requestGlobalConfig:r,componentList:c}=e[t];return o.editCanvasConfig=a,o.requestGlobalConfig=r,o.componentList=c,e[t]}}else await h(f).then(t=>{if(t.code==200)try{let a=t.data.data;if(a){i=d(a)[0];const{editCanvasConfig:r,requestGlobalConfig:c,componentList:l}=i;o.editCanvasConfig=r,o.requestGlobalConfig=c,o.componentList=l,o.editCanvasConfig.projectName=t.data.name}}catch(a){console.error(a)}});return i};export{O as g};
